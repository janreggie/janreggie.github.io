<!doctype html><html lang=en><meta charset=utf-8><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/janreggie.github.io"},"articleSection":"project","name":"janreggie.github.io: internals of janreggie\u0027s sandbox","headline":"janreggie.github.io: internals of janreggie\u0027s sandbox","description":"Writing this very website using Hugo, a Bootstrap template, modifying some templates for personal use, and hosting on GitHub Pages","inLanguage":"en","author":"Jan Reggie Dela Cruz","creator":"Jan Reggie Dela Cruz","publisher":"Jan Reggie Dela Cruz","accountablePerson":"Jan Reggie Dela Cruz","copyrightHolder":"Jan Reggie Dela Cruz","copyrightYear":"2020","datePublished":"2020-09-21T08:11:13Z","dateModified":"2020-09-21T08:11:13Z","url":"\/project\/janreggie.github.io\/","wordCount":"1065","keywords":["hugo","html","bootstrap","Blog"]}</script><title>janreggie.github.io: internals of janreggie's sandbox &ndash; janreggie's sandbox</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="Writing this very website using Hugo, a Bootstrap template, modifying some templates for personal use, and hosting on GitHub Pages"><meta name=author content="Jan Reggie Dela Cruz"><link rel=icon href=https://janreggie.github.io/favicon.ico><meta itemprop=name content="janreggie.github.io: internals of janreggie's sandbox"><meta itemprop=description content="Writing this very website using Hugo, a Bootstrap template, modifying some templates for personal use, and hosting on GitHub Pages"><meta itemprop=datePublished content="2020-09-21T00:00:00+00:00"><meta itemprop=dateModified content="2020-09-21T00:00:00+00:00"><meta itemprop=wordCount content="1065"><meta itemprop=keywords content="hugo,html,bootstrap,"><meta property="og:title" content="janreggie.github.io: internals of janreggie's sandbox"><meta property="og:description" content="Writing this very website using Hugo, a Bootstrap template, modifying some templates for personal use, and hosting on GitHub Pages"><meta property="og:type" content="article"><meta property="og:url" content="https://janreggie.github.io/project/janreggie.github.io/"><meta property="article:published_time" content="2020-09-21T00:00:00+00:00"><meta property="article:modified_time" content="2020-09-21T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="janreggie.github.io: internals of janreggie's sandbox"><meta name=twitter:description content="Writing this very website using Hugo, a Bootstrap template, modifying some templates for personal use, and hosting on GitHub Pages"><link rel=alternate href=https://janreggie.github.io/index.xml type=application/rss+xml title="janreggie's sandbox"><link rel=stylesheet href=https://janreggie.github.io/css/vendor.min.f1c1aa7c47d803117e04126dcf08902a298bc93fe9c6b081c802fb990a7685922158c9aff4f5edabb0168b98165ce3d9f2bffe8ce8a3503394682f320739d977.css integrity="sha512-8cGqfEfYAxF+BBJtzwiQKimLyT/pxrCByAL7mQp2hZIhWMmv9PXtq7AWi5gWXOPZ8r/+jOijUDOUaC8yBznZdw=="><link rel=stylesheet href=https://janreggie.github.io/css/custom.min.2ef96f361593034bc8e734e0d52240841d872953263eb7d16631c5e5547202cbec43a088ca8bc71db0b7dc8e11f40878f4a2d36fdcc570007cdc7cc42c8dee07.css integrity="sha512-LvlvNhWTA0vI5zTg1SJAhB2HKVMmPrfRZjHF5VRyAsvsQ6CIyovHHbC33I4R9Ah49KLTb9zFcAB83HzELI3uBw=="><link rel=stylesheet href=https://janreggie.github.io/css/fantasque.min.a57c034b7adc7dd7350a5788106c7b6d18296d64687cdf269bde0846eea9cde483b47c412eca48b72eddc0525f65d9cac5010c9ad3653ffe7f3295eedd089dbb.css integrity="sha512-pXwDS3rcfdc1CleIEGx7bRgpbWRofN8mm94IRu6pzeSDtHxBLspIty7dwFJfZdnKxQEMmtNlP/5/MpXu3Qiduw=="><body><nav class="navbar navbar-light bg-white border-bottom"><div class=container><a class="navbar-brand text-primary" href=https://janreggie.github.io/>janreggie's sandbox</a>
<button class="navbar-toggler collapsed" type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"><li class=nav-item><a class="nav-link text-primary" href=https://janreggie.github.io/project/><i class="far fa-star"></i>Projects</a></li><li class=nav-item><a class="nav-link text-primary" href=https://janreggie.github.io/post/><i class="fas fa-file-alt"></i>Posts</a></li><li class=nav-item><a class="nav-link text-primary" href=https://janreggie.github.io/about/><i class="fas fa-address-card"></i>About</a></li></ul></div></div></nav><main role=main><div class="container mt-3 mb-3"><div class=card><div class=card-body><h1 class=card-title><a href=https://janreggie.github.io/project/janreggie.github.io/>janreggie.github.io: internals of janreggie&rsquo;s sandbox</a></h1><h6 class="card-subtitle mb-2 text-muted"><i class="fas fa-calendar-day"></i>&nbsp;2020.09.21 -
<i class="fas fa-user"></i>&nbsp;Jan Reggie Dela Cruz
- <i class="fas fa-clock"></i>&nbsp;~5 Minutes</h6><div class=card-text><p>janreggie&rsquo;s sandbox is built using <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo
&nbsp;<i class="fas fa-external-link-alt"></i>
</a>,
<a href=https://themes.gohugo.io/bootstrap-bp-hugo-theme/ target=_blank rel="noopener noreferrer">bootstrap-bp-hugo-theme
&nbsp;<i class="fas fa-external-link-alt"></i>
</a>,
external fonts, and tears and sweat from <a href=https://github.com/janreggie/ target=_blank rel="noopener noreferrer">the author
&nbsp;<i class="fab fa-github"></i>
</a>.
In this post I describe the steps I made in building this website.</p><h2 id=choosing-and-customizing-a-theme>Choosing and customizing a theme</h2><p>There are <a href=https://themes.gohugo.io/ target=_blank rel="noopener noreferrer">a lot of Hugo themes
&nbsp;<i class="fas fa-external-link-alt"></i></a> out there.
I was looking for one that is relatively simple but can be extended quite well.</p><p>I settled with bootstrap-bp-hugo-theme for several reasons:</p><ul><li>It has built-in i18n support, which I can utilize in a future time.</li><li>It&rsquo;s based on <a href=https://getbootstrap.com/ target=_blank rel="noopener noreferrer">Bootstrap
&nbsp;<i class="fas fa-external-link-alt"></i>
</a>, which contains a plethora of classes</li><li>It has cards out of the box for one&rsquo;s homepage, which looks pleasant to the user</li><li>It has best practices supported out of the box</li><li>It has a dark theme which I can use for a later project</li></ul><p>With all of that,
I installed the theme using the following command:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>git submodule add https://github.com/spech66/bootstrap-bp-hugo-theme.git themes/bootstrap-bp-hugo-theme
</code></pre></div><p>I also based my <code>config.toml</code> using the <code>exampleSite/config.toml</code> provided.
I only did minimal configuration here, such as updating socials
and setting up a Markup theme.</p><p>I copied the contents of the theme&rsquo;s
<code>assets</code>, <code>archetypes</code>, <code>i18n</code>, <code>layouts</code>, and <code>static</code> folder
into my project folder.
It&rsquo;s time to do some customizing.</p><h3 id=new-type-project>New type: <code>project</code></h3><p>The <code>project</code> type is intended to be used for projects.
Establishing it is simple enough: creating a <code>project.md</code> on my archetypes folder
such that when I run <code>hugo new project/PROJECT_NAME/index.md</code>, it will use said archetype.</p><h3 id=structural-changes>Structural changes</h3><h4 id=layoutsindexhtml-adding-a-header-image-and-a-list-of-projects><code>layouts/index.html</code>: Adding a header image and a list of projects</h4><p>The first thing I wanted in my Index is a header image containing a welcoming message and a lede.
Immediately below that I wanted the list of projects
taken by listing all sites with <code>Type == project</code>.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>{{ define &#34;main&#34; }}

<span style=color:#888>&lt;</span><span style=color:#2838b0>div</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;container mt-3 mb-3&#34;</span><span style=color:#888>&gt;</span>
  <span style=color:#888>&lt;</span><span style=color:#2838b0>div</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;jumbotron text-center&#34;</span> <span style=color:#388038>id</span><span style=color:#666>=</span><span style=color:#b83838>&#34;index-header&#34;</span><span style=color:#888>&gt;</span>
  <span style=color:#888>&lt;</span><span style=color:#2838b0>h1</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;display-4&#34;</span><span style=color:#888>&gt;</span>{{ .Site.Params.header }}<span style=color:#888>&lt;/</span><span style=color:#2838b0>h1</span><span style=color:#888>&gt;</span>
  <span style=color:#888>&lt;</span><span style=color:#2838b0>p</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;lead&#34;</span><span style=color:#888>&gt;</span>{{ .Site.Params.lede }}<span style=color:#888>&lt;/</span><span style=color:#2838b0>p</span><span style=color:#888>&gt;</span>
  <span style=color:#888>&lt;/</span><span style=color:#2838b0>div</span><span style=color:#888>&gt;</span>
  <span style=color:#888>&lt;</span><span style=color:#2838b0>div</span> <span style=color:#388038>id</span><span style=color:#666>=</span><span style=color:#b83838>&#34;projects-list&#34;</span><span style=color:#888>&gt;</span>
  <span style=color:#888>&lt;</span><span style=color:#2838b0>h1</span><span style=color:#888>&gt;</span>{{ i18n &#34;projects&#34; }}<span style=color:#888>&lt;/</span><span style=color:#2838b0>h1</span><span style=color:#888>&gt;</span>
  <span style=color:#888>&lt;</span><span style=color:#2838b0>div</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;container mt-3 mb-3&#34;</span><span style=color:#888>&gt;</span>
    {{ $paginator := .Paginate ( where .Site.RegularPages.ByPublishDate.Reverse &#34;Type&#34; &#34;==&#34; &#34;project&#34;) }}
    <span style=color:#888>&lt;</span><span style=color:#2838b0>div</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;card-columns&#34;</span><span style=color:#888>&gt;</span>
    {{ range $paginator.Pages }}
      {{- partial &#34;content_index.html&#34; . -}}
    {{ end }}
    <span style=color:#888>&lt;/</span><span style=color:#2838b0>div</span><span style=color:#888>&gt;</span>
    {{ template &#34;_internal/pagination.html&#34; . }}
  <span style=color:#888>&lt;/</span><span style=color:#2838b0>div</span><span style=color:#888>&gt;</span>
  <span style=color:#888>&lt;/</span><span style=color:#2838b0>div</span><span style=color:#888>&gt;</span>
<span style=color:#888>&lt;/</span><span style=color:#2838b0>div</span><span style=color:#888>&gt;</span>

{{ end }}
</code></pre></div><p>Customizing the jumbotron is done through an external CSS file</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=color:#888>#</span><span style=color:#289870>index-header</span> <span style=color:#888>{</span>
  <span style=color:#2838b0>height</span><span style=color:#888>:</span> <span style=color:#444>70</span><span style=color:#2838b0;font-style:italic>vh</span><span style=color:#888>;</span>
  <span style=color:#2838b0>background-image</span><span style=color:#888>:</span> <span style=color:#388038>url</span><span style=color:#888>(</span><span style=color:#b83838>&#34;/header_image.jpg&#34;</span><span style=color:#888>);</span>
  <span style=color:#2838b0>background-size</span><span style=color:#888>:</span> <span style=color:#444;font-style:italic>cover</span><span style=color:#888>;</span>
  <span style=color:#2838b0>background-repeat</span><span style=color:#888>:</span> <span style=color:#444;font-style:italic>no-repeat</span><span style=color:#888>;</span>
  <span style=color:#2838b0>background-position</span><span style=color:#888>:</span> <span style=color:#444;font-style:italic>center</span> <span style=color:#444;font-style:italic>center</span><span style=color:#888>;</span>
<span style=color:#888>}</span>
</code></pre></div><h4 id=partialscontent_card_bodyhtml-adding-support-for-project-link><code>partials/content_card_body.html</code>: Adding support for project link</h4><p>My new project type may contain a <code>link</code> parameter which links to the project itself,
just like the link type for the original theme.
I wanted my &ldquo;cards&rdquo; to enable accepting a <code>link</code> param but only if it exists.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>{{ if eq .Type &#34;video&#34; }}
{{ else if eq .Type &#34;audio&#34; }}
{{ else if eq .Type &#34;link&#34; }}
  <span style=color:#888>&lt;</span><span style=color:#2838b0>p</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;text-center&#34;</span><span style=color:#888>&gt;&lt;</span><span style=color:#2838b0>a</span> <span style=color:#388038>href</span><span style=color:#666>=</span><span style=color:#b83838>&#34;{{ .Params.link }}&#34;</span> <span style=color:#388038>target</span><span style=color:#666>=</span><span style=color:#b83838>&#34;_blank&#34;</span> <span style=color:#388038>rel</span><span style=color:#666>=</span><span style=color:#b83838>&#34;noopener noreferrer&#34;</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;btn btn-primary btn-lg&#34;</span> <span style=color:#388038>tabindex</span><span style=color:#666>=</span><span style=color:#b83838>&#34;-1&#34;</span> <span style=color:#388038>role</span><span style=color:#666>=</span><span style=color:#b83838>&#34;button&#34;</span><span style=color:#888>&gt;&lt;</span><span style=color:#2838b0>i</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;fas fa-link&#34;</span><span style=color:#888>&gt;&lt;/</span><span style=color:#2838b0>i</span><span style=color:#888>&gt;</span><span style=color:#709030>&amp;nbsp;</span>{{ .Title }}<span style=color:#888>&lt;/</span><span style=color:#2838b0>a</span><span style=color:#888>&gt;&lt;/</span><span style=color:#2838b0>p</span><span style=color:#888>&gt;</span>
{{ else if and (eq .Type &#34;project&#34;) (.Params.link)  }} <span style=color:#888;font-style:italic>&lt;!-- projects that have external links (most of the time they should have one!) --&gt;</span>
  <span style=color:#888>&lt;</span><span style=color:#2838b0>p</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;text-center&#34;</span><span style=color:#888>&gt;&lt;</span><span style=color:#2838b0>a</span> <span style=color:#388038>href</span><span style=color:#666>=</span><span style=color:#b83838>&#34;{{ .Params.link }}&#34;</span> <span style=color:#388038>target</span><span style=color:#666>=</span><span style=color:#b83838>&#34;_blank&#34;</span> <span style=color:#388038>rel</span><span style=color:#666>=</span><span style=color:#b83838>&#34;noopener noreferrer&#34;</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;btn btn-primary btn-lg&#34;</span> <span style=color:#388038>tabindex</span><span style=color:#666>=</span><span style=color:#b83838>&#34;-1&#34;</span> <span style=color:#388038>role</span><span style=color:#666>=</span><span style=color:#b83838>&#34;button&#34;</span><span style=color:#888>&gt;&lt;</span><span style=color:#2838b0>i</span> <span style=color:#388038>class</span><span style=color:#666>=</span><span style=color:#b83838>&#34;fas fa-globe&#34;</span><span style=color:#888>&gt;&lt;/</span><span style=color:#2838b0>i</span><span style=color:#888>&gt;</span><span style=color:#709030>&amp;nbsp;</span>{{ index (split .Title &#34;:&#34;) 0 }}<span style=color:#888>&lt;/</span><span style=color:#2838b0>a</span><span style=color:#888>&gt;&lt;/</span><span style=color:#2838b0>p</span><span style=color:#888>&gt;</span>
{{ else if eq .Type &#34;quote&#34; }}
  <span style=color:#888;font-style:italic>&lt;!-- some code here --&gt;</span>
{{ end }}
</code></pre></div><h4 id=having-a-summary-by-placing---more-->Having a summary by placing <code>&lt;!--more--></code></h4><p>How Hugo generates summaries is by using the text above the
<code>&lt;!--more--></code> comment in one&rsquo;s page.
If a page has no summary, according to the theme,
it will try to create a summary by choosing the first few sentences.</p><h3 id=thematic-changes>Thematic changes</h3><h4 id=adding-overlock-and-kumbh-sans>Adding Overlock and Kumbh Sans</h4><p><a href=https://fonts.google.com/specimen/Overlock target=_blank rel="noopener noreferrer">Overlock
&nbsp;<i class="fas fa-external-link-alt"></i></a> and <a href=https://fonts.google.com/specimen/Kumbh+Sans target=_blank rel="noopener noreferrer">Kumbh Sans
&nbsp;<i class="fas fa-external-link-alt"></i></a>
are excellent fonts that I have found on Google Fonts.
Including them in <code>custom.css</code> is relatively simple:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=color:#888>@</span><span style=color:#2838b0>import</span> <span style=color:#2838b0>url</span><span style=color:#666>(</span><span style=color:#b83838>&#39;https://fonts.googleapis.com/css?family=Overlock|Kumbh Sans&amp;display=swap&#39;</span><span style=color:#666>)</span><span style=color:#888>;</span>
</code></pre></div><p>Putting them into my website is also simple:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=color:#2838b0>body</span> <span style=color:#888>{</span>
  <span style=color:#2838b0>font-family</span><span style=color:#888>:</span> <span style=color:#b83838>&#39;Kumbh Sans&#39;</span><span style=color:#888>,</span> <span style=color:#666>-</span>apple-system<span style=color:#888>,</span> BlinkMacSystemFont<span style=color:#888>,</span> <span style=color:#b83838>&#39;Segoe UI&#39;</span><span style=color:#888>,</span> Roboto<span style=color:#888>,</span> Oxygen<span style=color:#888>,</span> Ubuntu<span style=color:#888>,</span> Cantarell<span style=color:#888>,</span> <span style=color:#b83838>&#39;Open Sans&#39;</span><span style=color:#888>,</span> <span style=color:#b83838>&#39;Helvetica Neue&#39;</span><span style=color:#888>,</span> <span style=color:#444;font-style:italic>sans-serif</span><span style=color:#888>;</span>
<span style=color:#888>}</span>

<span style=color:#2838b0>h1</span><span style=color:#666>,</span> <span style=color:#2838b0>h2</span><span style=color:#666>,</span> <span style=color:#2838b0>h3</span><span style=color:#666>,</span> <span style=color:#2838b0>h4</span><span style=color:#666>,</span> <span style=color:#2838b0>h5</span><span style=color:#666>,</span> <span style=color:#2838b0>h6</span><span style=color:#666>,</span> <span style=color:#888>.</span><span style=color:#287088>h1</span><span style=color:#666>,</span> <span style=color:#888>.</span><span style=color:#287088>h2</span><span style=color:#666>,</span> <span style=color:#888>.</span><span style=color:#287088>h3</span><span style=color:#666>,</span> <span style=color:#888>.</span><span style=color:#287088>h4</span><span style=color:#666>,</span> <span style=color:#888>.</span><span style=color:#287088>h5</span><span style=color:#666>,</span> <span style=color:#888>.</span><span style=color:#287088>h6</span> <span style=color:#888>{</span>
  <span style=color:#2838b0>font-family</span><span style=color:#888>:</span> <span style=color:#b83838>&#39;Overlock&#39;</span><span style=color:#888>,</span> <span style=color:#b83838>&#39;Gill Sans&#39;</span><span style=color:#888>,</span> <span style=color:#b83838>&#39;Gill Sans MT&#39;</span><span style=color:#888>,</span> Calibri<span style=color:#888>,</span> <span style=color:#b83838>&#39;Trebuchet MS&#39;</span><span style=color:#888>,</span> <span style=color:#444;font-style:italic>sans-serif</span>
<span style=color:#888>}</span>
</code></pre></div><h4 id=adding-fantasque-sans>Adding Fantasque Sans</h4><p>Getting <a href=https://github.com/belluzj/fantasque-sans target=_blank rel="noopener noreferrer">Fantasque Sans
&nbsp;<i class="fab fa-github"></i></a> to work is a bit more difficult
since importing it from the instructions at <a href=https://fontlibrary.org/en/font/fantasque-sans-mono target=_blank rel="noopener noreferrer">Font Library
&nbsp;<i class="fas fa-external-link-alt"></i></a>
doesn&rsquo;t work since it pulls TTF files and <a href=https://stackoverflow.com/a/26695077/14020202 target=_blank rel="noopener noreferrer">Firefox does not like that
&nbsp;<i class="fas fa-external-link-alt"></i>
</a>.</p><p>Instead, what I did is I downloaded the fonts in <code>/static/webfonts</code>,
placed the <code>Fantasque...-decl.css</code> files in <code>/assets/css</code>,
modified them a bit such that they point to <code>/webfonts/Fantasque...</code>,
and included the following in my <code>/layouts/head_custom.html</code>:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#888;font-style:italic>&lt;!-- Install FantasqueSans because somehow I can&#39;t just import it in custom.css --&gt;</span>
{{ $fantasqueBold := resources.Get &#34;/css/FantasqueSansMono-Bold-decl.css&#34; }}
{{ $fantasqueBoldItalic := resources.Get &#34;/css/FantasqueSansMono-BoldItalic-decl.css&#34; }}
{{ $fantasqueItalic := resources.Get &#34;/css/FantasqueSansMono-Italic-decl.css&#34; }}
{{ $fantasqueRegular := resources.Get &#34;/css/FantasqueSansMono-Regular-decl.css&#34; }}
{{ $fantasque := slice $fantasqueBold $fantasqueBoldItalic $fantasqueItalic $fantasqueRegular | resources.Concat &#34;/css/fantasque.css&#34; | minify | fingerprint &#34;sha512&#34; }}
<span style=color:#888>&lt;</span><span style=color:#2838b0>link</span> <span style=color:#388038>rel</span><span style=color:#666>=</span><span style=color:#b83838>&#34;stylesheet&#34;</span> <span style=color:#388038>href</span><span style=color:#666>=</span><span style=color:#b83838>&#34;{{ $fantasque.RelPermalink }}&#34;</span> <span style=color:#388038>integrity</span><span style=color:#666>=</span><span style=color:#b83838>&#34;{{ $fantasque.Data.Integrity }}&#34;</span><span style=color:#888>&gt;</span>
</code></pre></div><p>Then I placed this in my <code>custom.css</code>:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=color:#2838b0>pre</span><span style=color:#666>,</span> <span style=color:#2838b0>code</span> <span style=color:#888>{</span>
  <span style=color:#2838b0>font-family</span><span style=color:#888>:</span> <span style=color:#b83838>&#39;Fantasque Sans Mono&#39;</span><span style=color:#888>,</span> <span style=color:#b83838>&#39;Courier New&#39;</span><span style=color:#888>,</span> Courier<span style=color:#888>,</span> <span style=color:#444;font-style:italic>monospace</span><span style=color:#888>;</span>
<span style=color:#888>}</span>
</code></pre></div><h2 id=git-pre-commit-hook-to-check-for-errors>git pre-commit hook to check for errors</h2><p>I created a <code>.git/hooks/pre-commit</code> file to check if there are any errors
during compilation of the website:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fish data-lang=fish><span style=color:#888;font-style:italic>#!/usr/bin/env fish
</span><span style=color:#888;font-style:italic></span>
<span style=color:#888;font-style:italic># just compile to hugo and check if it goes well
</span><span style=color:#888;font-style:italic></span><span style=color:#2838b0>echo</span> <span style=color:#b83838>&#34;Compiling... Please do wait.&#34;</span>
hugo --debug --verboseLog
</code></pre></div><p>If the script returns a non-zero value,
which happens if there is an error during compilation,
it will not be able to commit properly.</p><p>Of course, this is not foolproof.
Suppose that I have a <code>{{ relref }}</code> somewhere
that points to a file that hasn&rsquo;t been committed yet.
The hook will be executed successfully since the file is present on the filesystem,
but in reality it is not present in the git folder&rsquo;s perspective.</p><h2 id=publishing-on-github-pages>Publishing on GitHub Pages</h2><p>I created a new workflow at <code>.github/workflows/deploy.yml</code>
such that every push on <code>master</code> will cause <code>hugo</code> to run
which will host the website on the <code>gh-pages</code> branch.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#888;font-style:italic># Code from https://github.com/peaceiris/actions-hugo</span><span style=color:#a89028>
</span><span style=color:#a89028></span><span style=color:#888;font-style:italic># Licensed under MIT</span><span style=color:#a89028>
</span><span style=color:#a89028></span><span style=color:#2838b0>name</span><span style=color:#888>:</span><span style=color:#a89028> </span>deploy<span style=color:#a89028>
</span><span style=color:#a89028>
</span><span style=color:#a89028></span><span style=color:#2838b0>on</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>  </span><span style=color:#2838b0>push</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>    </span><span style=color:#2838b0>branches</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>      </span>- master  # Set a branch to deploy<span style=color:#a89028>
</span><span style=color:#a89028>
</span><span style=color:#a89028></span><span style=color:#2838b0>jobs</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>  </span><span style=color:#2838b0>deploy</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>    </span><span style=color:#2838b0>runs-on</span><span style=color:#888>:</span><span style=color:#a89028> </span>ubuntu-18.04<span style=color:#a89028>
</span><span style=color:#a89028>    </span><span style=color:#2838b0>steps</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>      </span>- <span style=color:#2838b0>uses</span><span style=color:#888>:</span><span style=color:#a89028> </span>actions/checkout@v2<span style=color:#a89028>
</span><span style=color:#a89028>        </span><span style=color:#2838b0>with</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>          </span><span style=color:#2838b0>submodules</span><span style=color:#888>:</span><span style=color:#a89028> </span><span style=color:#444;font-style:italic>true</span><span style=color:#a89028>  </span><span style=color:#888;font-style:italic># Fetch Hugo themes (true OR recursive)</span><span style=color:#a89028>
</span><span style=color:#a89028>          </span><span style=color:#2838b0>fetch-depth</span><span style=color:#888>:</span><span style=color:#a89028> </span><span style=color:#444>0</span><span style=color:#a89028>    </span><span style=color:#888;font-style:italic># Fetch all history for .GitInfo and .Lastmod</span><span style=color:#a89028>
</span><span style=color:#a89028>
</span><span style=color:#a89028>      </span>- <span style=color:#2838b0>name</span><span style=color:#888>:</span><span style=color:#a89028> </span>Setup Hugo<span style=color:#a89028>
</span><span style=color:#a89028>        </span><span style=color:#2838b0>uses</span><span style=color:#888>:</span><span style=color:#a89028> </span>peaceiris/actions-hugo@v2<span style=color:#a89028>
</span><span style=color:#a89028>        </span><span style=color:#2838b0>with</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>          </span><span style=color:#2838b0>hugo-version</span><span style=color:#888>:</span><span style=color:#a89028> </span><span style=color:#b83838>&#39;0.75.1&#39;</span><span style=color:#a89028>
</span><span style=color:#a89028>          </span><span style=color:#2838b0>extended</span><span style=color:#888>:</span><span style=color:#a89028> </span><span style=color:#444;font-style:italic>true</span><span style=color:#a89028>
</span><span style=color:#a89028>
</span><span style=color:#a89028>      </span>- <span style=color:#2838b0>name</span><span style=color:#888>:</span><span style=color:#a89028> </span>Build<span style=color:#a89028>
</span><span style=color:#a89028>        </span><span style=color:#2838b0>run</span><span style=color:#888>:</span><span style=color:#a89028> </span>hugo --minify<span style=color:#a89028>
</span><span style=color:#a89028>
</span><span style=color:#a89028>      </span>- <span style=color:#2838b0>name</span><span style=color:#888>:</span><span style=color:#a89028> </span>Deploy<span style=color:#a89028>
</span><span style=color:#a89028>        </span><span style=color:#2838b0>uses</span><span style=color:#888>:</span><span style=color:#a89028> </span>peaceiris/actions-gh-pages@v3<span style=color:#a89028>
</span><span style=color:#a89028>        </span><span style=color:#2838b0>with</span><span style=color:#888>:</span><span style=color:#a89028>
</span><span style=color:#a89028>          </span><span style=color:#2838b0>github_token</span><span style=color:#888>:</span><span style=color:#a89028> </span>${{ secrets.GITHUB_TOKEN }}<span style=color:#a89028>
</span><span style=color:#a89028>          </span><span style=color:#2838b0>publish_dir</span><span style=color:#888>:</span><span style=color:#a89028> </span>./public<span style=color:#a89028>
</span><span style=color:#a89028>          </span><span style=color:#2838b0>publish_branch</span><span style=color:#888>:</span><span style=color:#a89028> </span>gh-pages<span style=color:#a89028>
</span></code></pre></div><p>I have to confess that I spent an hour or so debugging why this isn&rsquo;t working.
I did not realize that I set <code>branches</code> here to <code>main</code> instead of <code>master</code>,
just like in the example in its page.</p><h2 id=further-improvements>Further improvements</h2><p>Other improvements on janreggie&rsquo;s sandbox are listed in
<a href=https://github.com/janreggie/janreggie.github.io/issues target=_blank rel="noopener noreferrer">the issues page
&nbsp;<i class="fab fa-github"></i>
</a>.
For more complex changes, I may write separate pages for those in this very site,
mostly under the <a href=https://janreggie.github.io/tags/#hugo>hugo tag
</a>.</p></div></div><div class=card-footer><small class=text-muted><i class="fas fa-folder text-primary"></i>&nbsp;
<a href=https://janreggie.github.io/categories/#web-development class="badge badge-primary"><span>web development</span></a><br><i class="fas fa-tags text-secondary"></i>&nbsp;
<a href=https://janreggie.github.io/tags/#hugo class="badge badge-secondary"><span>hugo</span></a>
<a href=https://janreggie.github.io/tags/#html class="badge badge-secondary"><span>html</span></a>
<a href=https://janreggie.github.io/tags/#bootstrap class="badge badge-secondary"><span>bootstrap</span></a></small></div></div></div></main><footer class="navbar-light border-top"><div class=container><div class=row><div class="col-12 col-md-3 mb-3"><h5>janreggie's sandbox</h5>sandbox + portfolio + blog</div><div class="col-12 col-md-3 mb-3"><h5>Social</h5><ul class="list-unstyled list-inline"><li class=list-inline-item><a href=https://github.com/janreggie target=_blank rel="noopener noreferrer" title=GitHub class="fab fa-github fa-2x"></a></li><li class=list-inline-item><a href=https://gitlab.com/janreggie target=_blank rel="noopener noreferrer" title=GitLab class="fab fa-gitlab fa-2x"></a></li><li class=list-inline-item><a href=https://stackoverflow.com/users/14020202 target=_blank rel="noopener noreferrer" title="Stack Overflow" class="fab fa-stack-overflow fa-2x"></a></li><li class=list-inline-item><a href=https://codepen.io/janreggie target=_blank rel="noopener noreferrer" title=CodePen class="fab fa-codepen fa-2x"></a></li><li class=list-inline-item><a href=https://linkedin.com/in/janreggie target=_blank rel="noopener noreferrer" title=LinkedIn class="fab fa-linkedin fa-2x"></a></li></ul></div><div class="col-12 col-md-3 mb-3"><h5>Site</h5><ul class=list-unstyled><li><a href=https://janreggie.github.io/about/><i class="fas fa-address-card"></i>About</a></li><li><a href=https://janreggie.github.io/categories/><i class="fas fa-folder"></i>Categories</a></li><li><a href=https://janreggie.github.io/tags/><i class="fas fa-tags"></i>Tags</a></li></ul></div><div class="col-12 col-md-3 mb-3">&copy; 2021 Jan Reggie Dela Cruz<br><p xmlns:dct=http://purl.org/dc/terms/ xmlns:cc=http://creativecommons.org/ns# class=license-text><a href=https://janreggie.github.io/notice/>Except otherwise noted</a>,
<a rel=cc:attributionurl property="dct:title" href=https://janreggie.github.io/>janreggie's sandbox</a>
is licensed under <a rel=license href=https://janreggie.github.io/license/>CC BY 4.0<img style=height:22px!important;margin-left:3px;vertical-align:text-bottom src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style=height:22px!important;margin-left:3px;vertical-align:text-bottom src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"></a></p></div></div></div></footer><script src=https://janreggie.github.io/js/vendor.min.677137e5832c000e05d2a682a3a67c3ce3c1fcfbea1ffe5b1cc27b7ba44d0051b4d322c845b936af431c3ed1f6e471e55d5273f9599e8e631553871bcda7395b.js integrity="sha512-Z3E35YMsAA4F0qaCo6Z8POPB/PvqH/5bHMJ7e6RNAFG00yLIRbk2r0McPtH25HHlXVJz+VmejmMVU4cbzac5Ww=="></script><script src=https://janreggie.github.io/js/custom.min.08eab7c02e1a27987b10b47cdbb0c6328d8d2ca64147b565ddc005c30681d236b601db9e9d51f3c0e87e4a9ab374c30da4324d73a12ae161d229ac333b8319e9.js integrity="sha512-COq3wC4aJ5h7ELR827DGMo2NLKZBR7Vl3cAFwwaB0ja2AduenVHzwOh+SpqzdMMNpDJNc6Eq4WHSKawzO4MZ6Q=="></script></body></html>